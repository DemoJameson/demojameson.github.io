

title: Celeste 速通技巧总结
tags: [Celeste, Speedrun, 速通]
categories: 游戏
author: DemoJameson
date: 2018-05-22 11:32:00
updated:  2018-05-22 11:32:00
mathjax: true
---

{% asset_img cover.jpg %}

Celeste 天下第一

<!--more-->

# 基本操作

* ## 行走

  从静止到走路的最高速度 **90** 有一个加速的过程，需要 **6** 帧。

  **90** 是个阈值，当速度超过这个值时无论是在空中或是地面都会产生阻力使 Madeline 减速，而且地面的阻力更大，唯一的例外是冲刺的过程中速度将保持不变。

* ## 跳跃

  **TODO 重写**

  按住跳键越久跳的越高，移动时起跳会为 Madeline 增加 **40** 横向速度，玩家在**序章**中频繁的小跳就是为了这个加速效果。

* ## 冲刺

  冲刺速度为 **240**，冲刺时长 **15** 帧。前 **4** 帧 Madeline 处于静止状态无法进行任何操作包括**冲跳**（后 **3** 帧时间静止），接下来的 **10** 帧速度将保持不变，速度计算方法如下：纵向速度由冲刺方向决定，横向冲刺为 **0**，竖向冲刺为 **240**， 斜向冲刺为 240 ÷ √2 = **169.7**。横向速度则取原速度与冲刺速度中的较大值。

  冲刺前 **9** 帧无法通过接触地面恢复冲刺能力。

  冲刺的最后 **1** 帧，横冲速度锐减到 **160**、上冲速度锐减到 **120**、斜上冲速度锐减到 **141.42**、下冲速度不变但稍后 **4** 帧速度逐渐下降到 **180**、斜下冲速度不变。
  从下往上的竖向画面过渡完成后，前 **11** 帧无法冲刺但可以做其他操作。

* ## 攀爬

  大部分攀爬操作需要耗费体力，体力的初始值为 **110**，当体力下降到 **20** 以下时 Madeline 进入疲劳状态，而体力用完后则无法再进行需要耗费体力的操作。

  ### 抓墙不动

  每秒耗费 **10** 体力，最久可持续 **11** 秒。

  ### 抓墙上爬

  每秒耗费 **45.45** 体力，最久可持续 **2.42** 秒。

  ### 抓墙下滑

  无需体力，下滑速度 **80**。

  ### 顺墙下滑

  无需体力，下滑速度 **30**。

  ### 抓墙垂直跳跃

  每次耗费 **27.5** 体力，最多可跳 **4** 次。速度与平地跃一致为 **105**。

  离墙 **2** 个像素以内的位置也可以使出**抓墙垂直跳跃**。

  ### 蹬墙跳

  无需体力。水平速度与平地跳跃一致，垂直速度 **105**，水平速度 **130** 与行走时跳跃加速后的速度相同。

  松开抓墙键时无论人物面向如何，只要按住左或者右再按跳就可以使出蹬墙跳，所以在一些狭窄的通道中可以简化操作，只需要按着同一个方向连续按跳就可以反复蹬墙上去。

  离墙 **2** 个像素以内的位置也可以使出**蹬墙跳**。

* ## 落下

  自由落下的速度为 **160**，按住下则可以加速到 **240**，当下落速度大于等于 **200** 时 Madeline 身体开始拉伸变形。

  按住下时可以避免与墙壁发生摩擦。



# 高级技巧

* ## 冲跳
  **冲跳**指的是斜冲向地面或者平行于地面冲刺后跳跃这一操作，在跳跃后可以获得极快的速度，是速通中使用最频繁的操作。根据冲跳跃操作的不同可以衍生出以下各种技巧，并且能够根据需要自由组合：

  * ### 前冲跳（Dash Jump / Super Jump）

    操作很简单，在冲刺过程中起跳即可。可以获得比冲刺稍高一点的速度，跳跃高度与正常跳跃相同。虽然这个操作游戏里没有教程，不过相信很多玩家已经自己摸索出来了。

  * ### 斜冲跳（Hyper  Dash / Duck Super Jump）

    顾名思义，斜下冲向地面后起跳。速度是**前冲跳**的 **1.25** 倍即 **325**，跳跃高度为 12.4 像素即 1.5 格。

    当斜冲跳高度达到最高点时往前冲可以挤上 **2** 格高的平台。

  * ### 空中冲跳 （Wave Dash）

    前面提到的斜冲和前冲不一定要从地面发起，只要保证冲刺过程中能碰到地面，这时再按起跳一样能获得加速。

  * ### 充能冲跳（Retained Dash）

    冲刺之后第 10 至第 14 帧碰到地面可以恢复冲刺能力，这时起跳可以获得加速并且再次冲刺。

    对于**地面充能冲跳**来说，**斜冲跳**所需要的地面空间比**前冲跳**的空间要少，因为斜冲地面的水平速度为 240 ÷ √2 × 1.2 = **203.65** 要比前冲的速度 **240** 低。**充能斜冲跳**所需空间为 **20.4** 像素约 **2.5** 格，**充能前冲跳**所需空间为 **24** 像素 **3** 格。Madeline 本身占了 **8** 个像素的宽度，而且可以垫着脚站在平台边缘（**0.5** 像素），所以 **2** 格宽的平台实际上有 **23** 个像素可供站立，当 Madeline 站立在边缘前 **3.1** 个像素的时候可以成功充能（是的，虽然显示的时候像素会四舍五入取整，但实际计算是包含小数点的）。**空中充能冲跳**则只需要有一个站立点即可。

  * ### 反向冲跳（Reverse Dash）

    冲刺后往相反的方向起跳即可。一般用于没有足够的空间施展**充能冲跳**的场景。

  * ### 兔子跳（Bunny Hop）

    **斜冲跳**后接尽量轻的小跳（跳键按下的持续时间尽量短），落地后立刻再接跳跃。这个不是**冲跳**的变种技巧，而是融合了**斜冲跳**和**跳跃加速**的常用套路比**斜冲跳**更远更高。因为小跳滞空时间短损耗的速度有限，而再次起跳可以补充刚才小跳损耗的速度并且比**斜冲跳**高。

* ## 冲墙跳（Wall Bounce / Super Wall Jump）

  竖直上冲到达贴着墙壁的位置后按跳，比普通的**蹬墙跳**更快更高，竖直上升速度比冲刺稍慢。使用频率仅次于**冲跳**，从 [1.2.3.0 版本](http://www.celestegame.com/changelog.html)开始降低了使用难度。

  **冲墙跳**的有效触发时间比**冲跳**多 1 帧，即冲刺第 15 帧速度锐减时按跳依然可以成功。

* ## 零体力爬墙（Neutral Wall Jump）

  这是一种无需体力从单面墙无限往上爬的技巧。具体操作为贴着墙，松开左右方向键与抓墙键，按跳之后马上将 Madeline 往墙壁拉，反复操作即可。

* ## 极速冲刺（Ultra Dash）

  极速冲刺是指以**斜冲跳**这种高速状态为起点，接着斜下冲刺接触地面获得1.2 倍速度的一系列操作。（TODO 需确定斜冲状态保持多久）根据斜下冲时是否在空中有以下两种常见用法：

  * ### 地面极速冲刺

    **斜冲跳**后立即斜冲越快越好，基本上跳和斜冲是同时按的，速度为 325 * 1.2 = 390，然后等斜冲充能完毕再度同时按跳和斜冲，如此反复循环。

  * ### 空中极速冲刺

    同样是**斜冲跳**后立即斜冲，这时应该距离地面一个适当的高度，使得斜冲结束后才接触地面，然后马上起跳。何谓适当的高度，太低则斜冲地面起跳会变为**空中斜冲跳**速度固定为 325，太高则斜冲结束后空中速度损耗过多。

* ## 跳跃加速

  前面已经简单介绍过了，当 Madeline 移动中跳跃时可获得 40 的速度加成。实际上这个加速效果广泛存在于游戏各种操作中，因为不管是从地面、水面甚至是墙面起跳都能获得加速。下面就介绍一下各种核心为**跳跃加速**的技巧：

  * ### 梦幻方块跳出加速

    在梦幻方块中穿梭的速度与冲刺相同为 **240**，穿过梦幻方块后跳跃可以获得加速效果。有三种从梦幻方块高速跳出的方式，从慢到快分别如下：

    * #### 跳跃一次

      在冲出来时按跳即可获得跳跃加速，速度 280。
      
    * #### 跳跃两次

      在冲出前和后各按一次跳即可获得两次跳跃加速，速度 315.67（假如两次跳跃间隔 1 帧），使用两个跳跃键有助于操作。
      
    * #### 斜冲跳

      这不属于**跳跃加速**，只是把它放在这里归类。在冲出梦幻方块时可以像在地面一样使出**斜冲跳**，速度 325。

  * ### 水面加速（Water Boost）

    在身体半没入水面时可以频繁跳跃获得多次加速，使用两个跳跃键有助于操作。在速通中一般是通过其他加速技巧获得较高的速度再使用**水面加速**。

  * ### 抓角加速（Corner Boost）

    在碰到墙壁顶端的时候**抓墙跳**获得加速，然后在 4 帧内越过墙壁，可恢复撞墙前的速度。在速通中一般是通过其他加速技巧获得较高的速度再使用**墙角加速**。假如冲刺接**抓角加速**甚至能够避免冲刺结束时的减速，加速效果尤为明显。

* ## 爆炸弹射

  眼球怪和弹球炸开的一瞬间按住与弹射相同的方向可以获得 **1.2** 倍的速度，只适用于水平方向的弹射。弹球的炸裂时机不太好控制，一般有两种套路：1. 冲向弹球然后立即按住弹射方向。2. 水平撞击弹球后趁它恢复前冲刺穿过它来到另外一侧。TODO 3 张图，另外还有个小知识，被眼球炸裂加速时可以不松开 Theo 冲刺，再加一张图。

* ## 墙角跳

  TODO

* ## 节奏关原地冲刺

  节奏关的色块是根据音乐节奏即现实时间切换，当路线中需要停下等待时原地冲刺一次可以节省 3 帧的时间

* ## demodash

  **TODO**

  以下蹲姿态进行冲刺（由 DemoJameson 发现）

* ## bubsdrop

  **TODO**

  进入上方房间后立马踢墙从而停止上升的势头以便掉回下面的房间。（由 Bubbai 发现）

# TAS 级操作

* ## 真踩刺跳

  TODO
  
* ## 撞头跳

  TODO
  
* ## 无体力跳加强版

  TODO

* ## 双重抓角加速

  TODO

* ## 机关多重加速

  TODO

* ## 不按抓墙键触发浮动机关

  TODO

* ## 浮动机关恢复瞬间刺无效

  TODO

* ## 无体力跳加强版

  TODO

# TAS 相关数据

冲刺：1 帧静止，2~4 帧冻结 ，5 帧决定冲刺方向， 5~14 帧 240 速度，15 帧 160 速度（不同冲刺方向速度有不同），冲刺间隔是 15 帧，10~14 帧碰到地面可恢复冲刺

蹭墙跳：垂直速度 160，第 18 帧垂直速度降到 105，一般冲刺最晚第 16 帧起跳，因为当时速度为 105 与爬墙速度一致，距离墙壁正4负5像素均可。

Ultra：14, R, D, X + 1, R, J + 14, R, D, X 重复

Coyote Time：4 帧

抓角加速：距离墙壁两像素


# 游戏机制

* ## 速度单位

  本文提到的速度单位均为**像素/秒**，而游戏内置分辨率为 **320 x 180** 像素，地板墙壁一个格子是 **8 x 8** 像素，Madeline 本身也是 **8** 像素宽。

* ## 碰撞优化

  当 Madeline 冲刺与物体发生碰撞时，开发者进行了一些处理，使 Madeline 可以挤上平台或者墙壁。跳起前冲可以挤上高度相差 **4** 像素的平台，上冲可以挤到水平距离相差 5 像素的墙壁边缘，下冲可以挤到水平距离相差 **4** 像素的墙壁边缘。

* ## 边缘跳跃

  在 Celeste 中走出平台边缘的 **4** 帧之内依然能够起跳。这被称为 **Coyote Time**，一般平台跳跃游戏都有类似的机制，允许人物走出平台边缘的一定时间内依然可以跳跃，营造一种宽容舒适的手感。使用**冲跳**时这个机制也是有效的，可以稍微增加跳跃的距离。

* ## 冲刺与体力的恢复

  触碰地面（立即）、切换房间（时长 40 帧）、获得能量球（冲刺已被消耗或者处于疲惫状态）。


# 其他

* ## 光敏模式

  打开后可以移除一些干扰的视觉效果，例如 Oshiro 和眼球怪追击时的重影色差效果，眼球 BOSS 和追击 Badeline 时的马赛克效果。

* ## 秘籍模式（Cheat Mode）

  开启秘籍模式后可以解锁所有章节包括 B 面 和 C 面。一些速通项目例如 All B-Sides、All C-Sides、True Pure Any Percent 需要用到这个模式。

  开启步骤如下：

  ```kotlin
  1. 进入序章
  2. 往左走到车子的画面
  3. 按顺序输入以下指令
                 左    右   日志  抓住   上   上   下   左   抓住  确认
     默认键位如下:
     XBox 手柄: Left  Right  LT   RT    Up   Up  Down Left  RT    A
     键盘:       ←      →    Tab  Z      ↑    ↑    ↓    ←   Z     C
  4. 听到音效且自动回到大地图界面即代表成功开启
  ```

* ## 调试模式（Debug Mode）

  开启调试模式后在标题界面会多出一个调试存档，解锁所有章节包括 B 面 和 C 面。在游戏中按 **TAB** 键打开地图界面，用鼠标右键点击指定房间可以立即传送到该位置。地图界面中按 **Q** 键可以查看草莓的编号。**F1**、**F2**、**F3** 均为快速重试。按 **~** 键开启命令行，输入 **help** 查看所有命令。

  开启步骤如下：
  1. 打开 **Celeste\Saves\settings.celeste** 文件
  2. 将 <LaunchInDebugMode>**false**</LaunchInDebugMode> 改为 <LaunchInDebugMode>**true**</LaunchInDebugMode>

# 辅助工具

* ## LiveSplit

  自动记录速通时间。

* ## SpeedrunTool

  任意位置保存读取，并且支持单个房间和任意终点的计时。

# 更新记录

* 有生之年会发布的

# 参考资料

1. [Celeste 更新纪录](http://www.celestegame.com/changelog.html)
2. [Celeste 关于人物移动部分的源码](https://github.com/NoelFB/Celeste)
3. [为什么 Celeset 的操作手感如此之棒](https://www.rockpapershotgun.com/2018/04/03/celeste-dash/)
4. [由 Celeste Speedrunning Discord 编写的速通技巧文档](https://docs.google.com/document/d/159WsjQfgPCvLO8k5mkUOi5lXs-TU4riHLD6dJ5rRVdc/edit)
5. [Celeste TAS 视频](https://www.youtube.com/watch?v=7Mv2_fHOqG8) 及 [相关技巧文档](https://pastebin.com/yD5eAkKQ)
6. [Steam 社区的 Celeste 指南](https://steamcommunity.com/sharedfiles/filedetails/?id=1311535531)
7. [Celeste TAS 速通技巧](http://tasvideos.org/GameResources/Windows/Celeste.html)